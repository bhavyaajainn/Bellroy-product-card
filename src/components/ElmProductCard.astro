---
// ElmProductCard.astro
---

<div id="elm-app" class="w-full max-w-sm transition-all duration-300 hover:shadow-lg"></div>

<script>
  import { Elm } from '../elm/Main.elm';
  
  // Initialize the Elm application
  document.addEventListener('DOMContentLoaded', () => {
    const app = Elm.Main.init({
      node: document.getElementById('elm-app')
    });
  });
</script>

<style>
  /* Base styles that will be applied to the Elm-generated HTML */
  :global(.product-card) {
    @apply w-full rounded-lg overflow-hidden bg-white shadow-md transition-all duration-300;
  }

  :global(.product-image-container) {
    @apply relative w-full overflow-hidden pb-[100%] sm:pb-[90%];
  }

  :global(.product-image) {
    @apply absolute inset-0 w-full h-full object-cover object-center transition-transform duration-500;
  }

  :global(.product-image-container:hover .product-image) {
    @apply scale-105;
  }

  :global(.product-info) {
    @apply p-5;
  }

  :global(.product-title) {
    @apply flex flex-col mb-2;
  }

  :global(.product-name) {
    @apply font-medium text-xl text-gray-900 mb-0;
  }

  :global(.product-subtitle) {
    @apply text-gray-600 text-sm;
  }

  :global(.product-price) {
    @apply text-lg font-semibold text-gray-800 mb-4;
  }

  :global(.color-options) {
    @apply flex flex-wrap gap-2 mb-4;
  }

  :global(.color-option-wrapper) {
    @apply p-0.5 cursor-pointer;
  }

  :global(.color-option) {
    @apply w-6 h-6 rounded-full border-2 border-transparent transition-all duration-200;
  }

  :global(.color-option.selected) {
    @apply border-gray-800 scale-110;
  }

  :global(.color-option-wrapper:hover .color-option) {
    @apply scale-110;
  }

  :global(.product-description) {
    @apply text-sm text-gray-600;
  }

  /* Responsive adjustments */
  @media (min-width: 640px) {
    :global(.product-card) {
      @apply flex flex-col;
    }
  }

  @media (min-width: 768px) {
    :global(.product-info) {
      @apply p-6;
    }
  }
</style>